{"map":"{\"version\":3,\"sources\":[\"/Users/lh6q/repos/thread2/react-boilerplate/app/containers/songRenderers/playlistPortal.js\",\"/Users/lh6q/repos/thread2/react-boilerplate/app/containers/songRenderers/songDetails.js\"],\"names\":[\"_jsx\",\"PlaylistPortal\",\"categories\",\"_portalOpen\",\"_loading\",\"_this\",\"setState\",\"axios\",\"method\",\"url\",\"withCredentials\",\"then\",\"catpls\",\"data\",\"cats\",\"Object\",\"values\",\"reduce\",\"_ref\",\"catname\",\"catid\",\"plname\",\"plid\",\"isPublic\",\"pls\",\"push\",\"e\",\"songs\",\"props\",\"selectedSongs\",\"playlist\",\"value\",\"result\",\"resetSelectedSongs\",\"state\",\"getCats\",\"React\",\"Component\",\"_this2\",\"this\",\"semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__\",\"open\",\"trigger\",\"disabled\",\"_disabled\",\"onClick\",\"portalOpen\",\"size\",\"closeIcon\",\"inverted\",\"style\",\"maxHeight\",\"overflow\",\"left\",\"position\",\"top\",\"zIndex\",\"map\",\"cat\",\"key\",\"Item\",\"Menu\",\"pl\",\"k\",\"link\",\"handleAddToPlaylist\",\"_ref2\",\"SongDetails\",\"song\",\"playing\",\"params\",\"songId\",\"match\",\"_this3\",\"className\",\"verticalAlign\",\"stretched\",\"textAlign\",\"colums\",\"Row\",\"Column\",\"width\",\"_appUtilities_context_js__WEBPACK_IMPORTED_MODULE_3__\",\"Consumer\",\"context\",\"name\",\"onPlaying\",\"handleToggle\",\"title\",\"userName\",\"playlists\",\"_ref3\",\"description\",\"_playlistPortal_js__WEBPACK_IMPORTED_MODULE_4__\",\"idSongs\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from 'react';\\nimport {Portal, Button, Menu } from 'semantic-ui-react';\\nimport axios from 'axios';\\n\\n\\nclass PlaylistPortal extends React.Component{\\n\\n  state={\\n    categories: [],\\n    _portalOpen: false,\\n    _loading: false,\\n  }\\n\\n  getCats = () => {\\n    this.setState({_loading: true});\\n    axios({\\n      method: 'get',\\n      url: 'https://thread-204819.appspot.com/getPlaylists',\\n      withCredentials: true\\n    }).then((categories) => {\\n      var catpls = categories.data.cats;\\n      var cats = Object.values(\\n        catpls.reduce( (cats, {catname, catid, plname, plid, isPublic}) => {\\n          if (! (catid in cats) )\\n              cats[catid] = {catname, catid, pls: []};\\n          if (plid)\\n            cats[catid].pls.push({plname, plid, isPublic});\\n          return cats;\\n        }, {})\\n      )\\n      this.setState({categories: cats, _loading: false});\\n    });\\n  }\\n\\n  handleAddToPlaylist = (e, data) => {\\n    this.setState({_portalOpen: false});\\n    axios({\\n      method: 'post',\\n      url: 'https://thread-204819.appspot.com/addSongsToPlaylist',\\n      data: {\\n        songs: this.props.selectedSongs,\\n        playlist: data.value\\n      },\\n      withCredentials: true\\n    }).then((result) => this.props.resetSelectedSongs())\\n\\n  }\\n\\n  portalOpen = () => {\\n    if(!this.state._portalOpen) {\\n      this.setState({_portalOpen: true});\\n      this.getCats()\\n    }\\n    else this.setState({_portalOpen: false})\\n  }\\n\\n\\n  render(){\\n    return(\\n      <Portal open={this.state._portalOpen} trigger={\\n        <Button\\n          disabled={this.props._disabled}\\n          onClick={this.portalOpen}\\n          size='mini' >Add to Playlist\\n        </Button>\\n      } closeIcon>\\n        <Menu inverted size='mini'\\n          style={{ maxHeight: '60vh', overflow: 'auto',\\n          left: '40vw', position: 'fixed', top: '20vh', zIndex: 1000 }} >\\n          {this.state.categories.map((cat, key) => {\\n            return(\\n              <Menu.Item key={key}>\\n                {cat.catname}\\n                <Menu.Menu>\\n                  {cat.pls ?\\n                    cat.pls.map((pl, k) => {\\n                      return(\\n                          <Menu.Item\\n                            key={k}\\n                            link\\n                            value={pl.plid}\\n                            onClick={this.handleAddToPlaylist}>\\n                            {pl.plname}\\n                          </Menu.Item>\\n                      )\\n                    })\\n                    : <div></div>\\n                  }\\n                  </Menu.Menu>\\n                </Menu.Item>\\n              )\\n            })}\\n          </Menu>\\n      </Portal>\\n    )\\n  }\\n}\\n\\nexport default PlaylistPortal;\\n\",\"import React from 'react';\\nimport {Header, Container, Grid, Icon} from 'semantic-ui-react';\\nimport axios from 'axios';\\nimport {AppContext} from '../../appUtilities/context.js';\\nimport PlaylistPortal from './playlistPortal.js';\\n\\n\\nclass SongDetails extends React.Component{\\n\\n  state={\\n    song: {},\\n    playing: false\\n  }\\n\\n  componentDidMount(){\\n    axios({\\n      method: 'get',\\n      url: 'https://thread-204819.appspot.com/getSong',\\n      params: {\\n        songId: this.props.match.params.song\\n      }\\n    }).then(result => this.setState({song: result.data[0]}))\\n  }\\n\\n  handleToggle = () => {\\n    if(this.state.playing) this.setState({playing: false});\\n    else this.setState({playing: true});\\n  }\\n\\n  render(){\\n\\n    var song = this.state.song;\\n    return(\\n      <div>\\n        <Container\\n          className='songInfoContainer'>\\n          <Grid\\n            verticalAlign='middle'\\n            stretched\\n            textAlign='center'\\n            colums={4}>\\n            <Grid.Row>\\n              <Grid.Column width={2}>\\n\\n                <AppContext.Consumer>{(context) => (\\n                  <Icon size='huge' name={this.state.playing ? 'pause' : 'play'} onClick={() => {context.onPlaying(song); this.handleToggle()}} />\\n                )}\\n              </AppContext.Consumer>\\n\\n\\n            </Grid.Column>\\n              <Grid.Column width={4}>\\n                <Header>Title</Header>\\n                {song.title}\\n              </Grid.Column>\\n              <Grid.Column width={4}>\\n                <Header>Uploader</Header>\\n                {song.userName}\\n              </Grid.Column>\\n              <Grid.Column width={4}>\\n                <Header>Included in {song.playlists} Playlist(s)</Header>\\n              </Grid.Column>\\n\\n            </Grid.Row>\\n            <Grid.Row>\\n              <Grid.Column stretched>\\n                <Header>Description</Header>\\n                {song.description}\\n              </Grid.Column>\\n            </Grid.Row>\\n            <Grid.Row>\\n              <Grid.Column>\\n                <PlaylistPortal selectedSongs={[song.idSongs]}/>\\n              </Grid.Column>\\n            </Grid.Row>\\n          </Grid>\\n        </Container>\\n      </div>\\n    )\\n  }\\n}\\n\\nexport default SongDetails;\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{b3b7ed55b6d02f6625c2:function(e,t,n){\"use strict\";var o,r=n(\"8af190b70a6bc55c6f1b\"),i=n.n(r),a=n(\"2ff12ea5690432baf3e9\"),l=n(\"bd183afcc37eabd79225\"),c=n.n(l);function u(e){return(u=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function s(e,t,n,r){o||(o=\"function\"===typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===a)t.children=r;else if(a>1){for(var c=new Array(a),u=0;u<a;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:\"\"+n,ref:null,props:t,_owner:null}}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=s(\"div\",{}),h=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return o=this,r=(e=p(t)).call.apply(e,[this].concat(a)),n=!r||\"object\"!==u(r)&&\"function\"!==typeof r?y(o):r,b(y(y(n)),\"state\",{categories:[],_portalOpen:!1,_loading:!1}),b(y(y(n)),\"getCats\",function(){n.setState({_loading:!0}),c()({method:\"get\",url:\"https://thread-204819.appspot.com/getPlaylists\",withCredentials:!0}).then(function(e){var t=e.data.cats,o=Object.values(t.reduce(function(e,t){var n=t.catname,o=t.catid,r=t.plname,i=t.plid,a=t.isPublic;return o in e||(e[o]={catname:n,catid:o,pls:[]}),i&&e[o].pls.push({plname:r,plid:i,isPublic:a}),e},{}));n.setState({categories:o,_loading:!1})})}),b(y(y(n)),\"handleAddToPlaylist\",function(e,t){n.setState({_portalOpen:!1}),c()({method:\"post\",url:\"https://thread-204819.appspot.com/addSongsToPlaylist\",data:{songs:n.props.selectedSongs,playlist:t.value},withCredentials:!0}).then(function(e){return n.props.resetSelectedSongs()})}),b(y(y(n)),\"portalOpen\",function(){n.state._portalOpen?n.setState({_portalOpen:!1}):(n.setState({_portalOpen:!0}),n.getCats())}),n}var n,o,r;return function(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,i.a.Component),n=t,(o=[{key:\"render\",value:function(){var e=this;return s(a.v,{open:this.state._portalOpen,trigger:s(a.a,{disabled:this.props._disabled,onClick:this.portalOpen,size:\"mini\"},void 0,\"Add to Playlist\"),closeIcon:!0},void 0,s(a.r,{inverted:!0,size:\"mini\",style:{maxHeight:\"60vh\",overflow:\"auto\",left:\"40vw\",position:\"fixed\",top:\"20vh\",zIndex:1e3}},void 0,this.state.categories.map(function(t,n){return s(a.r.Item,{},n,t.catname,s(a.r.Menu,{},void 0,t.pls?t.pls.map(function(t,n){return s(a.r.Item,{link:!0,value:t.plid,onClick:e.handleAddToPlaylist},n,t.plname)}):v))})))}}])&&f(n.prototype,o),r&&f(n,r),t}();t.a=h},e4c8e00c0ebeedeee862:function(e,t,n){\"use strict\";n.r(t);var o,r=n(\"8af190b70a6bc55c6f1b\"),i=n.n(r),a=n(\"2ff12ea5690432baf3e9\"),l=n(\"bd183afcc37eabd79225\"),c=n.n(l),u=n(\"ab1540874d5dec57806c\"),s=n(\"b3b7ed55b6d02f6625c2\");function f(e){return(f=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function p(e,t,n,r){o||(o=\"function\"===typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===a)t.children=r;else if(a>1){for(var c=new Array(a),u=0;u<a;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:\"\"+n,ref:null,props:t,_owner:null}}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=p(a.j,{},void 0,\"Title\"),g=p(a.j,{},void 0,\"Uploader\"),w=p(a.j,{},void 0,\"Description\"),S=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return o=this,r=(e=y(t)).call.apply(e,[this].concat(a)),n=!r||\"object\"!==f(r)&&\"function\"!==typeof r?v(o):r,h(v(v(n)),\"state\",{song:{},playing:!1}),h(v(v(n)),\"handleToggle\",function(){n.state.playing?n.setState({playing:!1}):n.setState({playing:!0})}),n}var n,o,r;return function(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,i.a.Component),n=t,(o=[{key:\"componentDidMount\",value:function(){var e=this;c()({method:\"get\",url:\"https://thread-204819.appspot.com/getSong\",params:{songId:this.props.match.params.song}}).then(function(t){return e.setState({song:t.data[0]})})}},{key:\"render\",value:function(){var e=this,t=this.state.song;return p(\"div\",{},void 0,p(a.c,{className:\"songInfoContainer\"},void 0,p(a.i,{verticalAlign:\"middle\",stretched:!0,textAlign:\"center\",colums:4},void 0,p(a.i.Row,{},void 0,p(a.i.Column,{width:2},void 0,p(u.a.Consumer,{},void 0,function(n){return p(a.k,{size:\"huge\",name:e.state.playing?\"pause\":\"play\",onClick:function(){n.onPlaying(t),e.handleToggle()}})})),p(a.i.Column,{width:4},void 0,m,t.title),p(a.i.Column,{width:4},void 0,g,t.userName),p(a.i.Column,{width:4},void 0,p(a.j,{},void 0,\"Included in \",t.playlists,\" Playlist(s)\"))),p(a.i.Row,{},void 0,p(a.i.Column,{stretched:!0},void 0,w,t.description)),p(a.i.Row,{},void 0,p(a.i.Column,{},void 0,p(s.a,{selectedSongs:[t.idSongs]}))))))}}])&&d(n.prototype,o),r&&d(n,r),t}();t.default=S}}]);","extractedComments":[]}