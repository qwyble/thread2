{"map":"{\"version\":3,\"sources\":[\"/Users/lh6q/repos/thread2/react-boilerplate/app/containers/authentication/LoginContainer/loginContainer.js\"],\"names\":[\"LoginContainer\",\"email\",\"password\",\"userName\",\"error\",\"_this\",\"setState\",\"e\",\"_defineProperty\",\"target\",\"name\",\"value\",\"axios\",\"method\",\"url\",\"data\",\"state\",\"withCredentials\",\"then\",\"result\",\"reset\",\"props\",\"onLogin\",\"catch\",\"response\",\"loc\",\"location\",\"from\",\"React\",\"Component\",\"this\",\"isLoggedIn\",\"_jsx\",\"react_router_dom__WEBPACK_IMPORTED_MODULE_3__\",\"to\",\"getRedirectUrl\",\"path\",\"Error\",\"code\",\"onInputChange\",\"handleInputChange\",\"username\",\"onSubmit\",\"handleSignupSubmit\",\"handleLoginSubmit\"],\"mappings\":\"svDAQMA,mVAEG,CACLC,MAAO,GACPC,SAAU,GACVC,SAAU,GACVC,MAAO,uBAGD,WACNC,EAAKC,SAAS,CAACL,MAAO,GAAIC,SAAU,GAAIC,SAAU,GAAIC,MAAO,qCAG3C,SAACG,GACnBF,EAAKC,SAALE,EAAA,GAAgBD,EAAEE,OAAOC,KAAOH,EAAEE,OAAOE,yCAGtB,WACnBC,GAAAA,CAAM,CACJC,OAAQ,OACRC,IAAK,gDACLC,KAAMV,EAAKW,MACXC,iBAAiB,IAChBC,KAAK,SAACC,GAEPd,EAAKe,QACLf,EAAKgB,MAAMC,QAAQH,EAAOJ,MAAM,KAC/BQ,MAAM,SAACnB,GAELA,GACDC,EAAKC,SAAS,CAACF,MAAOA,EAAMoB,SAAST,yCAKvB,WAClBV,EAAKgB,MAAMC,QAAQjB,EAAKW,oCAGT,WACf,IAAIS,EAAMpB,EAAKgB,MAAMK,SAASV,MAC9B,OAAGS,GACe,YAAbA,EAAIE,KACEF,EAAIE,KAKN,qQAhDgBC,EAAAA,EAAMC,kDAsD/B,OAAGC,KAAKT,MAAMU,WACLC,EAACC,EAAA,SAAD,CAAUC,GAAIJ,KAAKK,mBAG1BH,EAAA,MAAA,QAAA,EACEA,EAACC,EAAA,OAAD,QAAA,EACED,EAACC,EAAA,MAAD,CAAOG,KAAK,qBAAZ,EACEJ,GAAC,WAAA,IAAAzB,EAAA,IAAA8B,MAAA,kEAAA,MAAA9B,EAAA+B,KAAA,mBAAA/B,EAAA,GAAD,CACEgC,cAAeT,KAAKU,kBACpBvC,MAAO6B,KAAKd,MAAMf,MAClBC,SAAU4B,KAAKd,MAAMd,SACrBuC,SAAUX,KAAKd,MAAMyB,SACrBC,SAAUZ,KAAKa,mBACfvC,MAAO0B,KAAKd,MAAMZ,SAGtB4B,EAACC,EAAA,MAAD,CAAOG,KAAK,UAAZ,EACEJ,GAAC,WAAA,IAAAzB,EAAA,IAAA8B,MAAA,iEAAA,MAAA9B,EAAA+B,KAAA,mBAAA/B,EAAA,GAAD,CACEgC,cAAeT,KAAKU,kBACpBtC,SAAU4B,KAAKd,MAAMd,SACrBD,MAAO6B,KAAKd,MAAMf,MAClByC,SAAUZ,KAAKc,kBACfxC,MAAO0B,KAAKd,MAAMZ,gDASjBJ,EAAAA,QAAAA\",\"sourcesContent\":[\"import React from 'react';\\nimport Signup from '../../components/authentication/signup.js';\\nimport Login from '../../components/authentication/login.js';\\nimport axios from 'axios';\\nimport {Switch, Route, Redirect} from 'react-router-dom';\\n\\n\\n\\nclass LoginContainer extends React.Component{\\n\\n  state= {\\n    email: '',\\n    password: '',\\n    userName: '',\\n    error: '',\\n  }\\n\\n  reset = () => {\\n    this.setState({email: '', password: '', userName: '', error: ''});\\n  }\\n\\n  handleInputChange = (e) => {\\n    this.setState({[e.target.name]: e.target.value})\\n  }\\n\\n  handleSignupSubmit = () => {\\n    axios({\\n      method: 'post',\\n      url: 'https://thread-204819.appspot.com/auth/signup',\\n      data: this.state,\\n      withCredentials: true\\n    }).then((result) => {\\n      //signup was successful\\n      this.reset();\\n      this.props.onLogin(result.data, true);\\n    }).catch((error) => {\\n      //signup failed\\n      if(error){\\n        this.setState({error: error.response.data})\\n      }\\n    });\\n  }\\n\\n  handleLoginSubmit = () => {\\n    this.props.onLogin(this.state);\\n  }\\n\\n  getRedirectUrl = () => {\\n    var loc = this.props.location.state\\n    if(loc){\\n      if(loc.from !== '/logout'){\\n        return loc.from;\\n      }else{\\n        return '/stream'\\n      }\\n    }else{\\n      return '/stream'\\n    }\\n  }\\n\\n\\n  render(){\\n    if(this.props.isLoggedIn){\\n      return <Redirect to={this.getRedirectUrl()} />\\n    }\\n    return(\\n      <div>\\n        <Switch>\\n          <Route path='/auth/signup'>\\n            <Signup\\n              onInputChange={this.handleInputChange}\\n              email={this.state.email}\\n              password={this.state.password}\\n              username={this.state.username}\\n              onSubmit={this.handleSignupSubmit}\\n              error={this.state.error}\\n            />\\n          </Route>\\n          <Route path='*'>\\n            <Login\\n              onInputChange={this.handleInputChange}\\n              password={this.state.password}\\n              email={this.state.email}\\n              onSubmit={this.handleLoginSubmit}\\n              error={this.state.error}\\n            />\\n          </Route>\\n        </Switch>\\n      </div>\\n    )\\n  }\\n}\\n\\nexport default LoginContainer;\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{c8245c6559079d856ca9:function(t,e,n){\"use strict\";n.r(e);var o=n(\"8af190b70a6bc55c6f1b\"),r=n.n(o);!function(){var t=new Error(\"Cannot find module '../../components/authentication/signup.js'\");throw t.code=\"MODULE_NOT_FOUND\",t}(),function(){var t=new Error(\"Cannot find module '../../components/authentication/login.js'\");throw t.code=\"MODULE_NOT_FOUND\",t}();var i,a=n(\"bd183afcc37eabd79225\"),u=n.n(a),s=n(\"e95a63b25fb92ed15721\");function c(t){return(c=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function f(t,e,n,o){i||(i=\"function\"===typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103);var r=t&&t.defaultProps,a=arguments.length-3;if(e||0===a||(e={children:void 0}),e&&r)for(var u in r)void 0===e[u]&&(e[u]=r[u]);else e||(e=r||{});if(1===a)e.children=o;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];e.children=s}return{$$typeof:i,type:t,key:void 0===n?null:\"\"+n,ref:null,props:e,_owner:null}}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t){function e(){var t,n,o,r;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return o=this,r=(t=p(e)).call.apply(t,[this].concat(a)),n=!r||\"object\"!==c(r)&&\"function\"!==typeof r?d(o):r,m(d(d(n)),\"state\",{email:\"\",password:\"\",userName:\"\",error:\"\"}),m(d(d(n)),\"reset\",function(){n.setState({email:\"\",password:\"\",userName:\"\",error:\"\"})}),m(d(d(n)),\"handleInputChange\",function(t){n.setState(m({},t.target.name,t.target.value))}),m(d(d(n)),\"handleSignupSubmit\",function(){u()({method:\"post\",url:\"https://thread-204819.appspot.com/auth/signup\",data:n.state,withCredentials:!0}).then(function(t){n.reset(),n.props.onLogin(t.data,!0)}).catch(function(t){t&&n.setState({error:t.response.data})})}),m(d(d(n)),\"handleLoginSubmit\",function(){n.props.onLogin(n.state)}),m(d(d(n)),\"getRedirectUrl\",function(){var t=n.props.location.state;return t&&\"/logout\"!==t.from?t.from:\"/stream\"}),n}var n,o,i;return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,r.a.Component),n=e,(o=[{key:\"render\",value:function(){return this.props.isLoggedIn?f(s.Redirect,{to:this.getRedirectUrl()}):f(\"div\",{},void 0,f(s.Switch,{},void 0,f(s.Route,{path:\"/auth/signup\"},void 0,f(!function(){var t=new Error(\"Cannot find module '../../components/authentication/signup.js'\");throw t.code=\"MODULE_NOT_FOUND\",t}(),{onInputChange:this.handleInputChange,email:this.state.email,password:this.state.password,username:this.state.username,onSubmit:this.handleSignupSubmit,error:this.state.error})),f(s.Route,{path:\"*\"},void 0,f(!function(){var t=new Error(\"Cannot find module '../../components/authentication/login.js'\");throw t.code=\"MODULE_NOT_FOUND\",t}(),{onInputChange:this.handleInputChange,password:this.state.password,email:this.state.email,onSubmit:this.handleLoginSubmit,error:this.state.error}))))}}])&&l(n.prototype,o),i&&l(n,i),e}();e.default=b}}]);","extractedComments":[]}