{"map":"{\"version\":3,\"sources\":[\"/Users/lh6q/repos/thread2/react-boilerplate/app/components/profile/profileEditFields.js\",\"/Users/lh6q/repos/thread2/react-boilerplate/app/containers/profiles/profileEditor.js\",\"/Users/lh6q/repos/thread2/react-boilerplate/app/components/profile/profileViewer.js\",\"/Users/lh6q/repos/thread2/react-boilerplate/app/containers/profiles/profileContainer.js\"],\"names\":[\"_jsx\",\"es\",\"ProfileEditFields\",\"React\",\"Component\",\"Content\",\"Field\",\"_ref\",\"name\",\"value\",\"this\",\"props\",\"newEmail\",\"onChange\",\"onInputChange\",\"emailErr\",\"_ref2\",\"newUsername\",\"usernameErr\",\"type\",\"disabled\",\"_disabled\",\"onClick\",\"onSubmit\",\"validator\",\"require\",\"profileEditor_jsx\",\"active\",\"ProfileEditor\",\"imageUrl\",\"imageFile\",\"_imageLoading\",\"formErrors\",\"email\",\"username\",\"message\",\"emailValid\",\"usernameValid\",\"_isOpen\",\"_isLoading\",\"_portalOpen\",\"fieldValidationErrors\",\"_objectSpread\",\"_this\",\"state\",\"length\",\"isEmail\",\"setState\",\"e\",\"target\",\"_defineProperty\",\"validate\",\"submitCallback\",\"url\",\"window\",\"URL\",\"createObjectURL\",\"files\",\"data\",\"FormData\",\"append\",\"axios\",\"method\",\"withCredentials\",\"then\",\"handlePortalOpen\",\"onGetUserInfo\",\"user\",\"userName\",\"open\",\"compact\",\"padded\",\"raised\",\"secondary\",\"textAlign\",\"style\",\"margin\",\"top\",\"profileEditor_ref\",\"profileEditor_ref2\",\"src\",\"handleImageSubmit\",\"handleImageChange\",\"handleOpen\",\"centered\",\"dimmer\",\"className\",\"closeIcon\",\"icon\",\"_ref3\",\"width\",\"profileEditFields\",\"handleInputChange\",\"handleSubmit\",\"onOpen\",\"ProfileViewer\",\"profileViewer_jsx\",\"relaxed\",\"columns\",\"Row\",\"Column\",\"ProfileContainer\",\"result\",\"cb\",\"catch\",\"getUserInfo\",\"profileContainer_jsx\",\"profileViewer\",\"profileEditor\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from 'react';\\nimport {Segment, Container, Input, Form, Modal, Label, Button } from 'semantic-ui-react';\\n\\n\\n\\nclass ProfileEditFields extends React.Component{\\n\\n  render(){\\n    return(\\n      <div>\\n        <Modal.Content>\\n          <Container>\\n            <Segment>\\n              <Form>\\n                <Form.Field>\\n                  <Label>New Email</Label>\\n                  <Input name='newEmail' value={this.props.newEmail} onChange={this.props.onInputChange}/>\\n                  <div>{this.props.emailErr}</div>\\n                </Form.Field>\\n                <Form.Field>\\n                  <Label>New Username</Label>\\n                  <Input name='newUsername' value={this.props.newUsername} onChange={this.props.onInputChange} />\\n                  <div>{this.props.usernameErr}</div>\\n                </Form.Field>\\n                <Button type='submit' disabled={this.props._disabled} onClick={this.props.onSubmit}>Submit</Button>\\n              </Form>\\n\\n            </Segment>\\n          </Container>\\n        </Modal.Content>\\n      </div>\\n    )\\n  }\\n}\\n\\nexport default ProfileEditFields;\\n\",\"import React from 'react';\\nimport ProfileEditFields from '../../components/profile/profileEditFields';\\nimport {Button, Modal, Icon, Loader, Portal, Segment, Image, Form} from 'semantic-ui-react';\\nimport axios from 'axios';\\nvar validator = require('validator');\\n\\n\\n\\nclass ProfileEditor extends React.Component{\\n\\n  state = {\\n    newUsername: '',\\n    newEmail: '',\\n    imageUrl: '',\\n    imageFile: '',\\n    _imageLoading: false,\\n    formErrors: {email: '', username: ''},\\n    message: '',\\n    emailValid: true,\\n    usernameValid: true,\\n    _disabled: true,\\n    _isOpen: false,\\n    _isLoading: false,\\n    _portalOpen: false\\n  }\\n\\n\\n\\n  static getDerivedStateFromProps(props, state){\\n    return { newUsername: props.user.userName, newEmail: props.user.email, imageUrl: props.user.imageUrl }\\n  }\\n\\n\\n  validate = (name, value) => {\\n    let fieldValidationErrors = {...this.state.formErrors};\\n    var emailValid = this.state.emailValid;\\n    var usernameValid = this.state.usernameValid;\\n\\n    switch(name){\\n      case 'newUsername':\\n        usernameValid = value.length > 2;\\n        fieldValidationErrors.username = usernameValid ? '' : 'username must be at least 3 characters';\\n        break;\\n      case 'newEmail':\\n        emailValid = validator.isEmail(value);\\n        fieldValidationErrors.email = emailValid ? '' : 'not a valid email';\\n        break;\\n      default:\\n        break;\\n    }\\n    this.setState({\\n      formErrors: fieldValidationErrors,\\n      emailValid: emailValid,\\n      usernameValid: usernameValid\\n    }, () => {\\n      this.setState({_disabled: !this.state.emailValid || !this.state.usernameValid});\\n    });\\n  }\\n\\n\\n  handleInputChange = (e) => {\\n    var name = e.target.name;\\n    var value = e.target.value;\\n    this.setState({[name]: value});\\n    this.validate(name, value);\\n\\n\\n  }\\n\\n  submitCallback = (message) => {\\n    this.setState({_isLoading: false, message: message});\\n  }\\n\\n  handleSubmit = () => {\\n    this.setState({_isLoading: true});\\n    this.props.onSubmit(this.state.newEmail, this.state.newUsername, this.submitCallback);\\n  }\\n\\n  handleOpen = () => {\\n    if(this.state._isOpen){\\n      this.setState({_isOpen: false});\\n    }else{\\n      this.setState({_isOpen: true});\\n    }\\n  }\\n\\n  handlePortalOpen = () => {\\n    if(this.state._portalOpen){\\n      this.setState({_portalOpen: false});\\n    }else{\\n      this.setState({_portalOpen: true});\\n    }\\n  }\\n\\n  handleImageChange = (e) => {\\n    var url = window.URL.createObjectURL(e.target.files[0])\\n    this.setState({imageUrl: url, imageFile: e.target.files[0]});\\n  }\\n\\n  handleImageSubmit = () => {\\n    this.setState({_imageLoading: true});\\n    var data = new FormData();\\n    data.append('file', this.state.imageFile)\\n    axios({\\n      method: 'post',\\n      url: 'https://thread-204819.appspot.com/uploadImage',\\n      data: data,\\n      withCredentials: true\\n    }).then(() => {\\n      this.handlePortalOpen();\\n      this.props.onGetUserInfo();\\n      this.setState({_imageLoading: false});\\n    });\\n  }\\n\\n  render(){\\n    return(\\n      <div>\\n          <Button onClick={this.handlePortalOpen}>Edit Image</Button>\\n          <Portal open={this.state._portalOpen}>\\n            <Segment compact padded raised secondary textAlign='center' style={{margin: 'auto', top: '-300px'}}>\\n              {this.state._imageLoading ? <Loader active={true}/> : <div></div>}\\n              <Image src={this.state.imageUrl} style={{margin: 'auto'}} />\\n              <Form onSubmit={this.handleImageSubmit}>\\n                <input name='image' type=\\\"file\\\" onChange={this.handleImageChange}/>\\n                <Button type='submit' disabled={!this.state.imageFile}> Submit </Button>\\n              </Form>\\n            </Segment>\\n          </Portal>\\n\\n        <Button onClick={this.handleOpen}>Edit Profile</Button>\\n        <Modal\\n          centered='true'\\n          dimmer={false}\\n          className='profileModal'\\n          closeIcon={<Button icon onClick={this.handleOpen}><Icon name='close'/></Button>}\\n          open={this.state._isOpen}\\n          style={{width: '30vw'}}>\\n          <Loader active={this.state._isLoading}/>\\n          {this.state.message}\\n          <ProfileEditFields\\n            user={this.props.user}\\n            newUsername={this.state.newUsername}\\n            newEmail={this.state.newEmail}\\n            onInputChange={this.handleInputChange}\\n            onSubmit={this.handleSubmit}\\n            onOpen={this.handleOpen}\\n            _disabled={this.state._disabled}\\n            emailErr={this.state.formErrors.email}\\n            usernameErr={this.state.formErrors.username}\\n          />\\n        </Modal>\\n      </div>\\n    )\\n  }\\n}\\n\\n\\nexport default ProfileEditor;\\n\",\"import React from 'react';\\nimport {Container, Grid, Image} from 'semantic-ui-react';\\n\\n\\n\\nclass ProfileViewer extends React.Component{\\n  render(){\\n    return(\\n      <div>\\n        <Container>\\n          <Grid padded relaxed columns={2}>\\n            <Grid.Row centered={true}>\\n              <Grid.Column textAlign='center' width={5}>\\n                <Image src={this.props.user.imageUrl} />\\n              </Grid.Column>\\n            </Grid.Row>\\n            <Grid.Row>\\n              <Grid.Column width={8}>\\n                {this.props.user.userName}\\n              </Grid.Column>\\n              <Grid.Column width={8}>\\n                {this.props.user.email}\\n              </Grid.Column>\\n            </Grid.Row>\\n          </Grid>\\n        </Container>\\n      </div>\\n    )\\n  }\\n}\\n\\nexport default ProfileViewer;\\n\",\"import React from 'react';\\nimport axios from 'axios';\\nimport ProfileEditor from './profileEditor';\\nimport ProfileViewer from '../../components/profile/profileViewer';\\nimport {Container, Segment} from 'semantic-ui-react';\\n\\n\\nclass ProfileContainer extends React.Component{\\n\\n  state = {\\n    user: {},\\n  }\\n\\n  componentDidMount(){\\n    this.getUserInfo();\\n  }\\n\\n\\n  getUserInfo = () => {\\n    axios({\\n      method: 'get',\\n      url: 'https://thread-204819.appspot.com/getUserInfo',\\n      withCredentials: true\\n    }).then(result =>  this.setState({user: result.data[0]}));\\n  }\\n\\n\\n\\n  handleSubmit = (email, username, cb) => {\\n    axios({\\n      method: 'post',\\n      url: 'https://thread-204819.appspot.com/editUserInfo',\\n      data: {\\n        email: email,\\n        username: username\\n      },\\n      withCredentials: true\\n    }).then(() => {cb('profile successfully updated')})\\n    .catch(() => {cb('there was an error, your profile wasn\\\\'t updated.')});\\n  }\\n\\n\\n  render(){\\n\\n    return(\\n      <div>\\n        <Container className='songInfoContainer'>\\n          <Segment>\\n            <ProfileViewer user={this.state.user}/>\\n          </Segment>\\n            <ProfileEditor\\n              onGetUserInfo={this.getUserInfo}\\n              onSubmit={this.handleSubmit}\\n              user={this.state.user}/>\\n\\n        </Container>\\n      </div>\\n    )\\n  }\\n\\n}\\nexport default ProfileContainer;\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{\"20014eddd473ee992a8a\":function(e,t,n){\"use strict\";n.r(t);var o,r=n(\"8af190b70a6bc55c6f1b\"),i=n.n(r),a=n(\"bd183afcc37eabd79225\"),l=n.n(a),u=n(\"2ff12ea5690432baf3e9\");function s(e){return(s=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function f(e,t,n,r){o||(o=\"function\"===typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===a)t.children=r;else if(a>1){for(var u=new Array(a),s=0;s<a;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:\"\"+n,ref:null,props:t,_owner:null}}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return!t||\"object\"!==s(t)&&\"function\"!==typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y,b=f(u.o,{},void 0,\"New Email\"),h=f(u.o,{},void 0,\"New Username\"),v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),p(this,d(t).apply(this,arguments))}var n,o,r;return function(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,i.a.Component),n=t,(o=[{key:\"render\",value:function(){return f(\"div\",{},void 0,f(u.s.Content,{},void 0,f(u.c,{},void 0,f(u.y,{},void 0,f(u.h,{},void 0,f(u.h.Field,{},void 0,b,f(u.m,{name:\"newEmail\",value:this.props.newEmail,onChange:this.props.onInputChange}),f(\"div\",{},void 0,this.props.emailErr)),f(u.h.Field,{},void 0,h,f(u.m,{name:\"newUsername\",value:this.props.newUsername,onChange:this.props.onInputChange}),f(\"div\",{},void 0,this.props.usernameErr)),f(u.a,{type:\"submit\",disabled:this.props._disabled,onClick:this.props.onSubmit},void 0,\"Submit\"))))))}}])&&c(n.prototype,o),r&&c(n,r),t}();function g(e){return(g=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function w(e,t,n,o){y||(y=\"function\"===typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&r)for(var a in r)void 0===t[a]&&(t[a]=r[a]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:y,type:e,key:void 0===n?null:\"\"+n,ref:null,props:t,_owner:null}}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P,C=n(\"5277e97d55c1112f002b\"),k=w(u.q,{active:!0}),U=w(\"div\",{}),I=w(u.k,{name:\"close\"}),L=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return o=this,r=(e=S(t)).call.apply(e,[this].concat(a)),n=!r||\"object\"!==g(r)&&\"function\"!==typeof r?j(o):r,E(j(j(n)),\"state\",{newUsername:\"\",newEmail:\"\",imageUrl:\"\",imageFile:\"\",_imageLoading:!1,formErrors:{email:\"\",username:\"\"},message:\"\",emailValid:!0,usernameValid:!0,_disabled:!0,_isOpen:!1,_isLoading:!1,_portalOpen:!1}),E(j(j(n)),\"validate\",function(e,t){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);\"function\"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){E(e,t,n[t])})}return e}({},n.state.formErrors),r=n.state.emailValid,i=n.state.usernameValid;switch(e){case\"newUsername\":i=t.length>2,o.username=i?\"\":\"username must be at least 3 characters\";break;case\"newEmail\":r=C.isEmail(t),o.email=r?\"\":\"not a valid email\"}n.setState({formErrors:o,emailValid:r,usernameValid:i},function(){n.setState({_disabled:!n.state.emailValid||!n.state.usernameValid})})}),E(j(j(n)),\"handleInputChange\",function(e){var t=e.target.name,o=e.target.value;n.setState(E({},t,o)),n.validate(t,o)}),E(j(j(n)),\"submitCallback\",function(e){n.setState({_isLoading:!1,message:e})}),E(j(j(n)),\"handleSubmit\",function(){n.setState({_isLoading:!0}),n.props.onSubmit(n.state.newEmail,n.state.newUsername,n.submitCallback)}),E(j(j(n)),\"handleOpen\",function(){n.state._isOpen?n.setState({_isOpen:!1}):n.setState({_isOpen:!0})}),E(j(j(n)),\"handlePortalOpen\",function(){n.state._portalOpen?n.setState({_portalOpen:!1}):n.setState({_portalOpen:!0})}),E(j(j(n)),\"handleImageChange\",function(e){var t=window.URL.createObjectURL(e.target.files[0]);n.setState({imageUrl:t,imageFile:e.target.files[0]})}),E(j(j(n)),\"handleImageSubmit\",function(){n.setState({_imageLoading:!0});var e=new FormData;e.append(\"file\",n.state.imageFile),l()({method:\"post\",url:\"https://thread-204819.appspot.com/uploadImage\",data:e,withCredentials:!0}).then(function(){n.handlePortalOpen(),n.props.onGetUserInfo(),n.setState({_imageLoading:!1})})}),n}var n,o,r;return function(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,i.a.Component),n=t,r=[{key:\"getDerivedStateFromProps\",value:function(e,t){return{newUsername:e.user.userName,newEmail:e.user.email,imageUrl:e.user.imageUrl}}}],(o=[{key:\"render\",value:function(){return w(\"div\",{},void 0,w(u.a,{onClick:this.handlePortalOpen},void 0,\"Edit Image\"),w(u.v,{open:this.state._portalOpen},void 0,w(u.y,{compact:!0,padded:!0,raised:!0,secondary:!0,textAlign:\"center\",style:{margin:\"auto\",top:\"-300px\"}},void 0,this.state._imageLoading?k:U,w(u.l,{src:this.state.imageUrl,style:{margin:\"auto\"}}),w(u.h,{onSubmit:this.handleImageSubmit},void 0,w(\"input\",{name:\"image\",type:\"file\",onChange:this.handleImageChange}),w(u.a,{type:\"submit\",disabled:!this.state.imageFile},void 0,\" Submit \")))),w(u.a,{onClick:this.handleOpen},void 0,\"Edit Profile\"),w(u.s,{centered:\"true\",dimmer:!1,className:\"profileModal\",closeIcon:w(u.a,{icon:!0,onClick:this.handleOpen},void 0,I),open:this.state._isOpen,style:{width:\"30vw\"}},void 0,w(u.q,{active:this.state._isLoading}),this.state.message,w(v,{user:this.props.user,newUsername:this.state.newUsername,newEmail:this.state.newEmail,onInputChange:this.handleInputChange,onSubmit:this.handleSubmit,onOpen:this.handleOpen,_disabled:this.state._disabled,emailErr:this.state.formErrors.email,usernameErr:this.state.formErrors.username})))}}])&&O(n.prototype,o),r&&O(n,r),t}();function x(e){return(x=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function A(e,t,n,o){P||(P=\"function\"===typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&r)for(var a in r)void 0===t[a]&&(t[a]=r[a]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:P,type:e,key:void 0===n?null:\"\"+n,ref:null,props:t,_owner:null}}function F(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t){return!t||\"object\"!==x(t)&&\"function\"!==typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $,N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),R(this,T(t).apply(this,arguments))}var n,o,r;return function(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,i.a.Component),n=t,(o=[{key:\"render\",value:function(){return A(\"div\",{},void 0,A(u.c,{},void 0,A(u.i,{padded:!0,relaxed:!0,columns:2},void 0,A(u.i.Row,{centered:!0},void 0,A(u.i.Column,{textAlign:\"center\",width:5},void 0,A(u.l,{src:this.props.user.imageUrl}))),A(u.i.Row,{},void 0,A(u.i.Column,{width:8},void 0,this.props.user.userName),A(u.i.Column,{width:8},void 0,this.props.user.email)))))}}])&&F(n.prototype,o),r&&F(n,r),t}();function D(e){return(D=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function q(e,t,n,o){$||($=\"function\"===typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&r)for(var a in r)void 0===t[a]&&(t[a]=r[a]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:$,type:e,key:void 0===n?null:\"\"+n,ref:null,props:t,_owner:null}}function G(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return o=this,r=(e=J(t)).call.apply(e,[this].concat(a)),n=!r||\"object\"!==D(r)&&\"function\"!==typeof r?z(o):r,B(z(z(n)),\"state\",{user:{}}),B(z(z(n)),\"getUserInfo\",function(){l()({method:\"get\",url:\"https://thread-204819.appspot.com/getUserInfo\",withCredentials:!0}).then(function(e){return n.setState({user:e.data[0]})})}),B(z(z(n)),\"handleSubmit\",function(e,t,n){l()({method:\"post\",url:\"https://thread-204819.appspot.com/editUserInfo\",data:{email:e,username:t},withCredentials:!0}).then(function(){n(\"profile successfully updated\")}).catch(function(){n(\"there was an error, your profile wasn't updated.\")})}),n}var n,o,r;return function(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,i.a.Component),n=t,(o=[{key:\"componentDidMount\",value:function(){this.getUserInfo()}},{key:\"render\",value:function(){return q(\"div\",{},void 0,q(u.c,{className:\"songInfoContainer\"},void 0,q(u.y,{},void 0,q(N,{user:this.state.user})),q(L,{onGetUserInfo:this.getUserInfo,onSubmit:this.handleSubmit,user:this.state.user})))}}])&&G(n.prototype,o),r&&G(n,r),t}();t.default=H}}]);","extractedComments":[]}