(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"0670bda6f97ee0c48032":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,o.default)(t);n=String(n);if(!n)return e(t,4)||e(t,6);if("4"===n){if(!i.test(t))return!1;var r=t.split(".").sort(function(e,t){return e-t});return r[3]<=255}if("6"===n){var u=t.split(":"),l=!1,f=e(u[u.length-1],4),s=f?7:8;if(u.length>s)return!1;if("::"===t)return!0;"::"===t.substr(0,2)?(u.shift(),u.shift(),l=!0):"::"===t.substr(t.length-2)&&(u.pop(),u.pop(),l=!0);for(var c=0;c<u.length;++c)if(""===u[c]&&c>0&&c<u.length-1){if(l)return!1;l=!0}else if(f&&c===u.length-1);else if(!a.test(u[c]))return!1;return l?u.length>=1:u.length===s}return!1};var r,o=(r=n("8d3c3fb19722e609cf1e"))&&r.__esModule?r:{default:r};var i=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,a=/^[0-9A-F]{1,4}$/i;e.exports=t.default},"398541c5c18210ad974a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var n in t)"undefined"===typeof e[n]&&(e[n]=t[n]);return e},e.exports=t.default},"43020ba82f88edc45f4d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e),(t=(0,o.default)(t,a)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));for(var n=e.split("."),i=0;i<n.length;i++)if(n[i].length>63)return!1;if(t.require_tld){var u=n.pop();if(!n.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(u))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(u))return!1}for(var l,f=0;f<n.length;f++){if(l=n[f],t.allow_underscores&&(l=l.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(l))return!1;if(/[\uff01-\uff5e]/.test(l))return!1;if("-"===l[0]||"-"===l[l.length-1])return!1}return!0};var r=i(n("8d3c3fb19722e609cf1e")),o=i(n("398541c5c18210ad974a"));function i(e){return e&&e.__esModule?e:{default:e}}var a={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};e.exports=t.default},"4782880c2b6273912177":function(e,t,n){"use strict";n.r(t);var r,o=n("5ab2f4c6a102c650b88f"),i=n.n(o),a=n("3ed1c1f235c25d2fd92f"),u=n.n(a),l=n("8af190b70a6bc55c6f1b"),f=n.n(l),s=n("bd183afcc37eabd79225"),c=n.n(s),p=n("d5735d19f5de76fb0206"),d=n.n(p),m=n("80c4a63f85d73c406239"),b=n.n(m),y=n("04e604007a0d180a9113"),h=n.n(y),v=n("d74b4b79960f2e7702d0"),g=n.n(v),_=n("124ce8dac218e11083f7"),w=n.n(_),S=n("c91778e5b2c58f14ad93"),O=n.n(S),F=n("9d8baee270337396dfcd"),x=n.n(F),j=n("e5c405990ad124f61c2b"),E=n.n(j),P=n("44b0887959496493d51e"),C=n.n(P),U=n("23994f4f61a8e760637f"),k=n.n(U);function $(e){return($="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t,n,o){r||(r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});if(1===a)t.children=o;else if(a>1){for(var l=new Array(a),f=0;f<a;f++)l[f]=arguments[f+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return!t||"object"!==$(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R,T=D(C.a,{},void 0,"New Email"),q=D(C.a,{},void 0,"New Username"),z=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),A(this,L(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,f.a.Component),n=t,(r=[{key:"render",value:function(){return D("div",{},void 0,D(O.a.Content,{},void 0,D(u.a,{},void 0,D(i.a,{},void 0,D(d.a,{},void 0,D(d.a.Field,{},void 0,T,D(k.a,{name:"newEmail",value:this.props.newEmail,onChange:this.props.onInputChange}),D("div",{},void 0,this.props.emailErr)),D(d.a.Field,{},void 0,q,D(k.a,{name:"newUsername",value:this.props.newUsername,onChange:this.props.onInputChange}),D("div",{},void 0,this.props.usernameErr)),D(x.a,{type:"submit",disabled:this.props._disabled,onClick:this.props.onSubmit},void 0,"Submit"))))))}}])&&I(n.prototype,r),o&&I(n,o),t}();function V(e){return(V="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t,n,r){R||(R="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}return{$$typeof:R,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K,Q=N(g.a,{active:!0}),X=N("div",{}),Y=N(w.a,{name:"close"}),Z=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=this,o=(e=G(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==V(o)&&"function"!==typeof o?W(r):o,H(W(W(n)),"state",{newUsername:"",newEmail:"",imageUrl:"",imageFile:"",_imageLoading:!1,formErrors:{email:"",username:""},message:"",emailValid:!0,usernameValid:!0,_disabled:!0,_isOpen:!1,_isLoading:!1,_portalOpen:!1}),H(W(W(n)),"validate",function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){H(e,t,n[t])})}return e}({},n.state.formErrors),o=n.state.emailValid,i=n.state.usernameValid;switch(e){case"newUsername":i=t.length>2,r.username=i?"":"username must be at least 3 characters";break;case"newEmail":o=E()(t),r.email=o?"":"not a valid email"}n.setState({formErrors:r,emailValid:o,usernameValid:i},function(){n.setState({_disabled:!n.state.emailValid||!n.state.usernameValid})})}),H(W(W(n)),"handleInputChange",function(e){var t=e.target.name,r=e.target.value;n.setState(H({},t,r)),n.validate(t,r)}),H(W(W(n)),"submitCallback",function(e){n.setState({_isLoading:!1,message:e})}),H(W(W(n)),"handleSubmit",function(){n.setState({_isLoading:!0}),n.props.onSubmit(n.state.newEmail,n.state.newUsername,n.submitCallback)}),H(W(W(n)),"handleOpen",function(){n.state._isOpen?n.setState({_isOpen:!1}):n.setState({_isOpen:!0})}),H(W(W(n)),"handlePortalOpen",function(){n.state._portalOpen?n.setState({_portalOpen:!1}):n.setState({_portalOpen:!0})}),H(W(W(n)),"handleImageChange",function(e){var t=window.URL.createObjectURL(e.target.files[0]);n.setState({imageUrl:t,imageFile:e.target.files[0]})}),H(W(W(n)),"handleImageSubmit",function(){n.setState({_imageLoading:!0});var e=new FormData;e.append("file",n.state.imageFile),c()({method:"post",url:"https://thread-204819.appspot.com/uploadImage",data:e,withCredentials:!0}).then(function(){n.handlePortalOpen(),n.props.onGetUserInfo(),n.setState({_imageLoading:!1})})}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,f.a.Component),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){return{newUsername:e.user.userName,newEmail:e.user.email,imageUrl:e.user.imageUrl}}}],(r=[{key:"render",value:function(){return N("div",{},void 0,N(x.a,{onClick:this.handlePortalOpen},void 0,"Edit Image"),N(h.a,{open:this.state._portalOpen},void 0,N(i.a,{compact:!0,padded:!0,raised:!0,secondary:!0,textAlign:"center",style:{margin:"auto",top:"-300px"}},void 0,this.state._imageLoading?Q:X,N(b.a,{src:this.state.imageUrl,style:{margin:"auto"}}),N(d.a,{onSubmit:this.handleImageSubmit},void 0,N("input",{name:"image",type:"file",onChange:this.handleImageChange}),N(x.a,{type:"submit",disabled:!this.state.imageFile},void 0," Submit ")))),N(x.a,{onClick:this.handleOpen},void 0,"Edit Profile"),N(O.a,{centered:"true",dimmer:!1,className:"profileModal",closeIcon:N(x.a,{icon:!0,onClick:this.handleOpen},void 0,Y),open:this.state._isOpen,style:{width:"30vw"}},void 0,N(g.a,{active:this.state._isLoading}),this.state.message,N(z,{user:this.props.user,newUsername:this.state.newUsername,newEmail:this.state.newEmail,onInputChange:this.handleInputChange,onSubmit:this.handleSubmit,onOpen:this.handleOpen,_disabled:this.state._disabled,emailErr:this.state.formErrors.email,usernameErr:this.state.formErrors.username})))}}])&&B(n.prototype,r),o&&B(n,o),t}(),ee=n("3c477e4382ca1c79ca38"),te=n.n(ee);function ne(e){return(ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t,n,r){K||(K="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}return{$$typeof:K,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return!t||"object"!==ne(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var le,fe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ie(this,ae(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,f.a.Component),n=t,(r=[{key:"render",value:function(){return re("div",{},void 0,re(u.a,{},void 0,re(te.a,{padded:!0,relaxed:!0,columns:2},void 0,re(te.a.Row,{centered:!0},void 0,re(te.a.Column,{textAlign:"center",width:5},void 0,re(b.a,{src:this.props.user.imageUrl}))),re(te.a.Row,{},void 0,re(te.a.Column,{width:8},void 0,this.props.user.userName),re(te.a.Column,{width:8},void 0,this.props.user.email)))))}}])&&oe(n.prototype,r),o&&oe(n,o),t}();function se(e){return(se="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t,n,r){le||(le="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}return{$$typeof:le,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=this,o=(e=de(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==se(o)&&"function"!==typeof o?be(r):o,ye(be(be(n)),"state",{user:{}}),ye(be(be(n)),"getUserInfo",function(){c()({method:"get",url:"https://thread-204819.appspot.com/getUserInfo",withCredentials:!0}).then(function(e){return n.setState({user:e.data[0]})})}),ye(be(be(n)),"handleSubmit",function(e,t,n){c()({method:"post",url:"https://thread-204819.appspot.com/editUserInfo",data:{email:e,username:t},withCredentials:!0}).then(function(){n("profile successfully updated")}).catch(function(){n("there was an error, your profile wasn't updated.")})}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(t,f.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.getUserInfo()}},{key:"render",value:function(){return ce("div",{},void 0,ce(u.a,{className:"songInfoContainer"},void 0,ce(i.a,{},void 0,ce(fe,{user:this.state.user})),ce(Z,{onGetUserInfo:this.getUserInfo,onSubmit:this.handleSubmit,user:this.state.user})))}}])&&pe(n.prototype,r),o&&pe(n,o),t}();t.default=he},"8d3c3fb19722e609cf1e":function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"===typeof e||e instanceof String)){var t;throw t=null===e?"null":"object"===(t=r(e))&&e.constructor&&e.constructor.hasOwnProperty("name")?e.constructor.name:"a ".concat(t),new TypeError("Expected string but received ".concat(t,"."))}},e.exports=t.default},a0937e94280c9737bfbf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r;(0,o.default)(e),"object"===i(t)?(n=t.min||0,r=t.max):(n=arguments[1],r=arguments[2]);var a=encodeURI(e).split(/%..|./).length-1;return a>=n&&("undefined"===typeof r||a<=r)};var r,o=(r=n("8d3c3fb19722e609cf1e"))&&r.__esModule?r:{default:r};function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=t.default},e5c405990ad124f61c2b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),(t=(0,o.default)(t,f)).require_display_name||t.allow_display_name){var n=e.match(s);if(n)e=n[1];else if(t.require_display_name)return!1}var l=e.split("@"),y=l.pop(),h=l.join("@"),v=y.toLowerCase();if(t.domain_specific_validation&&("gmail.com"===v||"googlemail.com"===v)){var g=(h=h.toLowerCase()).split("+")[0];if(!(0,i.default)(g.replace(".",""),{min:6,max:30}))return!1;for(var _=g.split("."),w=0;w<_.length;w++)if(!p.test(_[w]))return!1}if(!(0,i.default)(h,{max:64})||!(0,i.default)(y,{max:254}))return!1;if(!(0,a.default)(y,{require_tld:t.require_tld})){if(!t.allow_ip_domain)return!1;if(!(0,u.default)(y)){if(!y.startsWith("[")||!y.endsWith("]"))return!1;var S=y.substr(1,y.length-2);if(0===S.length||!(0,u.default)(S))return!1}}if('"'===h[0])return h=h.slice(1,h.length-1),t.allow_utf8_local_part?b.test(h):d.test(h);for(var O=t.allow_utf8_local_part?m:c,F=h.split("."),x=0;x<F.length;x++)if(!O.test(F[x]))return!1;return!0};var r=l(n("8d3c3fb19722e609cf1e")),o=l(n("398541c5c18210ad974a")),i=l(n("a0937e94280c9737bfbf")),a=l(n("43020ba82f88edc45f4d")),u=l(n("0670bda6f97ee0c48032"));function l(e){return e&&e.__esModule?e:{default:e}}var f={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},s=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\,\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,c=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,p=/^[a-z\d]+$/,d=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,m=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,b=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;e.exports=t.default}}]);