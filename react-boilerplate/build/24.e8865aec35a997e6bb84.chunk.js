(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"2c483782bb6fe69149db":function(e,t,n){"use strict";n.r(t);var o,r=n("3ed1c1f235c25d2fd92f"),a=n.n(r),i=n("d74b4b79960f2e7702d0"),s=n.n(i),c=n("5ab2f4c6a102c650b88f"),l=n.n(c),u=n("8af190b70a6bc55c6f1b"),f=n.n(u),d=n("bd183afcc37eabd79225"),p=n.n(d),y=n("e95a63b25fb92ed15721"),b=n("124ce8dac218e11083f7"),h=n.n(b),m=n("549965b55baa058476b1"),v=n.n(m),g=n("a13c1ebed48ad2d1dd93"),w=n.n(g);function S(e){return(S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t,n,r){o||(o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),l=0;l<i;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return!t||"object"!==S(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k,M=O(y.Link,{to:"/messages/compose"},void 0,O(v.a.Item,{name:"compose"},void 0,O(h.a,{name:"keyboard"}),"Compose")),E=O(v.a.Item,{name:"inbox"},void 0,O(h.a,{name:"mail"}),"Inbox"),T=O(v.a.Item,{name:"sent"},void 0,O(h.a,{name:"send"}),"Sent"),I=O(h.a,{name:"trash"}),R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,C(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,f.a.Component),n=t,(o=[{key:"render",value:function(){return O("div",{},void 0,O(w.a,{className:"messagesSidebar",as:v.a,width:"thin",direction:"left",visible:!0,icon:"labeled",vertical:!0},void 0,M,O(y.Link,{to:"/messages",onClick:this.props.onGetMessages},void 0,E),O(y.Link,{to:"/messages/sent",onClick:this.props.onGetSentMessages},void 0,T),O(v.a.Item,{name:"delete",onClick:this.props.onDelete},void 0,I,"Delete")))}}])&&j(n.prototype,o),r&&j(n,r),t}(),D=n("77a347aff4ed61b55fce"),V=n.n(D),$=n("45239fced27fc7917d16"),A=n.n($);function x(e){return(x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t,n,o){k||(k="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:k,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K,q=N(A.a.Header,{},void 0,N(A.a.Row,{},void 0,N(A.a.HeaderCell,{}),N(A.a.HeaderCell,{},void 0,"Sender"),N(A.a.HeaderCell,{},void 0,"Subject"),N(A.a.HeaderCell,{},void 0,"Date"))),z=N("span",{}),B=N(A.a.Footer,{},void 0,N(A.a.Row,{},void 0,N(A.a.HeaderCell,{colSpan:"4"},void 0,N(v.a,{floated:"right",pagination:!0},void 0,N(v.a.Item,{as:"a",icon:!0},void 0,N(h.a,{name:"chevron left"})),N(v.a.Item,{as:"a"},void 0,"1"),N(v.a.Item,{as:"a"},void 0,"2"),N(v.a.Item,{as:"a"},void 0,"3"),N(v.a.Item,{as:"a"},void 0,"4"),N(v.a.Item,{as:"a",icon:!0},void 0,N(h.a,{name:"chevron right"})))))),J=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=this,r=(e=H(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==x(r)&&"function"!==typeof r?G(o):r,U(G(G(n)),"state",{messages:[],messageToView:"",redirect:!1}),U(G(G(n)),"handleViewMessage",function(e){n.setState({redirect:!0,messageToView:e.idmessages})}),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,f.a.Component),n=t,r=[{key:"getDerivedStateFromProps",value:function(e,t){return{messages:e.messages}}}],(o=[{key:"render",value:function(){var e=this;return this.state.redirect?N(y.Redirect,{to:{pathname:"/messages/view",state:{id:this.state.messageToView}}}):N("div",{},void 0,N(A.a,{selectable:!0},void 0,q,N(A.a.Body,{},void 0,this.state.messages.map(function(t,n){var o=t.viewed?{opacity:".6"}:{};return N(A.a.Row,{style:o},n,N(A.a.Cell,{},void 0,N(V.a,{className:"messageCheckbox",size:"mini",id:t.idmessages,checked:e.props.selectedMessages.includes(t.idmessages),onChange:e.props.onMessageSelect}),z),N(A.a.Cell,{onClick:e.handleViewMessage.bind(e,t)},void 0,t.senderName),N(A.a.Cell,{onClick:e.handleViewMessage.bind(e,t)},void 0,t.subject),N(A.a.Cell,{onClick:e.handleViewMessage.bind(e,t)},void 0,t.date.slice(0,10)))})),B))}}])&&F(n.prototype,o),r&&F(n,r),t}();function Y(e){return(Y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t,n,o){K||(K="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:K,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function W(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne,oe=Q(A.a.Header,{},void 0,Q(A.a.Row,{},void 0,Q(A.a.HeaderCell,{},void 0,"Recipient"),Q(A.a.HeaderCell,{},void 0,"Subject"),Q(A.a.HeaderCell,{},void 0,"Date"))),re=Q(A.a.Footer,{},void 0,Q(A.a.Row,{},void 0,Q(A.a.HeaderCell,{colSpan:"4"},void 0,Q(v.a,{floated:"right",pagination:!0},void 0,Q(v.a.Item,{as:"a",icon:!0},void 0,Q(h.a,{name:"chevron left"})),Q(v.a.Item,{as:"a"},void 0,"1"),Q(v.a.Item,{as:"a"},void 0,"2"),Q(v.a.Item,{as:"a"},void 0,"3"),Q(v.a.Item,{as:"a"},void 0,"4"),Q(v.a.Item,{as:"a",icon:!0},void 0,Q(h.a,{name:"chevron right"})))))),ae=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=this,r=(e=X(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==Y(r)&&"function"!==typeof r?ee(o):r,te(ee(ee(n)),"state",{messages:[],messageToView:"",redirect:!1}),te(ee(ee(n)),"handleViewMessage",function(e){n.setState({redirect:!0,messageToView:e.idmessages})}),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,f.a.Component),n=t,r=[{key:"getDerivedStateFromProps",value:function(e,t){return{messages:e.messages}}}],(o=[{key:"render",value:function(){var e=this;return this.state.redirect?Q(y.Redirect,{to:{pathname:"/messages/view",state:{id:this.state.messageToView}}}):Q("div",{},void 0,Q(A.a,{selectable:!0},void 0,oe,Q(A.a.Body,{},void 0,this.state.messages.map(function(t,n){return Q(A.a.Row,{},n,Q(A.a.Cell,{onClick:e.handleViewMessage.bind(e,t)},void 0,t.recipientName),Q(A.a.Cell,{onClick:e.handleViewMessage.bind(e,t)},void 0,t.subject),Q(A.a.Cell,{onClick:e.handleViewMessage.bind(e,t)},void 0,t.date.slice(0,10)))})),re))}}])&&W(n.prototype,o),r&&W(n,r),t}(),ie=n("ed9c52280d03fd555aff"),se=n.n(ie),ce=n("9d8baee270337396dfcd"),le=n.n(ce),ue=n("23994f4f61a8e760637f"),fe=n.n(ue),de=n("3f84079904ffcc10986b"),pe=n.n(de),ye=n("d5735d19f5de76fb0206"),be=n.n(ye),he=n("734adf2e6cd4330e49a7"),me=n.n(he),ve=n("c91778e5b2c58f14ad93"),ge=n.n(ve);function we(e){return(we="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t,n,o){ne||(ne="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:ne,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Oe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function je(e,t){return!t||"object"!==we(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pe,ke=Se(ge.a.Header,{},void 0,"Message sent."),Me=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),je(this,_e(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(t,f.a.Component),n=t,(o=[{key:"render",value:function(){return Se(ge.a,{open:!0,basic:!0,size:"mini",className:"messagePortal",width:2},void 0,ke,Se(ge.a.Content,{},void 0,Se(y.Link,{to:"/messages"},void 0,Se(le.a,{onClick:this.props.onGetMessages},void 0,"Back to messages"))))}}])&&Oe(n.prototype,o),r&&Oe(n,r),t}(),Ee=n("a093460f2fae74481307"),Te=n.n(Ee);n("8a2d1b95e05b6a321e74");function Ie(e){return(Ie="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe,Ne=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=this,r=(e=De(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==Ie(r)&&"function"!==typeof r?$e(o):r,Ae($e($e(n)),"state",{value:n.props.value,searchValue:"",users:[],error:""}),Ae($e($e(n)),"getUsers",function(e){p()({method:"get",url:"https://thread-204819.appspot.com/emailSearch",params:{searchString:e}}).then(function(e){var t;t=e.data.map(function(e,t){return{text:e.userName,image:e.imageUrl,key:e.idUsers,value:e.idUsers}}),n.setState({users:t})})}),Ae($e($e(n)),"onSearchChange",function(e,t){var o=e.target.value,r=!!n.props.validate&&n.props.validate(o);n.setState({error:r,searchValue:o},function(){n.getUsers(n.state.searchValue)})}),Ae($e($e(n)),"onDropdownChange",function(e,t){var o=t.name,r=t.value,a=n.props.validate(r);n.setState({error:a,value:r}),n.props.onChange({name:o,value:r,error:a})}),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(t,f.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){this.getUsers("%")}},{key:"render",value:function(){return function(e,t,n,o){Pe||(Pe="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Pe,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(Te.a,{fluid:!0,search:!0,selection:!0,name:this.props.name,placeholder:this.props.placeholder,options:this.state.users,value:this.state.value,onChange:this.onDropdownChange,onSearchChange:this.onSearchChange})}}])&&Re(n.prototype,o),r&&Re(n,r),t}();function Fe(e){return(Fe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t,n,o){xe||(xe="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:xe,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){ze(e,t,n[t])})}return e}function Ge(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Be,Je=He(me.a,{inverted:!0,active:!0},void 0,He(s.a,{active:!0})),Ye=He("div",{}),Qe=He("div",{}),We=He(h.a,{name:"send"}),Xe=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=this,r=(e=Ue(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==Fe(r)&&"function"!==typeof r?qe(o):r,ze(qe(qe(n)),"state",{message:{recipient:null,subject:"",body:""},fieldErrors:{recipient:"",subject:"",body:""},isLoading:!1,success:!1}),ze(qe(qe(n)),"handleInputChange",function(e){var t=e.name,o=e.value,r=e.error,a=Le({},n.state.message),i=Le({},n.state.fieldErrors);a[t]=o,i[t]=r,n.setState({message:a,fieldErrors:i})}),ze(qe(qe(n)),"validate",function(){var e=Le({},n.state.message),t=Le({},n.state.fieldErrors),o=Object.keys(t).filter(function(e){return t[e]});return!e.recipient||(!e.subject||(!e.body||!!o.length))}),ze(qe(qe(n)),"handleFormSubmit",function(e){e.preventDefault(),n.validate()||n.sendMessageToDb()}),ze(qe(qe(n)),"sendMessageToDb",function(){n.setState({isLoading:!0}),Ze(n.state.message.subject,n.state.message.body,n.state.message.recipient).then(function(){n.setState({isLoading:!1,success:!0,message:{recipient:null,subject:"",body:""}})})}),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,f.a.Component),n=t,r=[{key:"getDerivedStateFromProps",value:function(e,t){if(e.recipient!==t.message.recipient){var n=Le({},t.message);return n.recipient=e.recipient,{message:n}}return{}}}],(o=[{key:"render",value:function(){return He(a.a,{},void 0,this.state.isLoading?Je:Ye,this.state.success?He(Me,{onGetMessages:this.props.onGetMessages}):Qe,He(be.a,{onSubmit:this.handleFormSubmit},void 0,He(be.a.Field,{required:!0,error:!!this.state.fieldErrors.recipient},void 0,He(Ne,{name:"recipient",placeholder:"Choose recipient",value:this.state.message.recipient,onChange:this.handleInputChange,validate:function(e){return!e&&"recipient is required"}}),this.state.fieldErrors.recipient),He(be.a.Field,{required:!0,error:!!this.state.fieldErrors.subject},void 0,He(fe.a,{name:"subject",placeholder:"Subject",value:this.state.message.subject,onChange:this.handleInputChange,validate:function(e){return!e&&"Subject is required"}}),this.state.fieldErrors.subject),He(be.a.Field,{required:!0,error:!!this.state.fieldErrors.body},void 0,He(pe.a,{name:"body",placeholder:"Body",value:this.state.message.body,onChange:this.handleInputChange,validate:function(e){return!e&&"body is required"}}),this.state.fieldErrors.body),He(le.a,{type:"submit",disabled:this.validate()},void 0,We)))}}])&&Ge(n.prototype,o),r&&Ge(n,r),t}(),Ze=function(e,t,n){return p()({method:"post",url:"https://thread-204819.appspot.com/sendMessage",data:{subject:e,body:t,recipient:n,date:(new Date).toISOString().substring(0,19).replace("T"," ")},withCredentials:!0})};function et(e){return(et="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t,n,o){Be||(Be="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Be,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function nt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st,ct=tt(y.Redirect,{to:"/messages"}),lt=tt(s.a,{active:!0}),ut=tt("div",{}),ft=tt(se.a,{}),dt=tt(se.a,{}),pt=tt(se.a,{}),yt=tt("div",{}),bt=tt("div",{}),ht=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=this,r=(e=ot(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==et(r)&&"function"!==typeof r?at(o):r,it(at(at(n)),"state",{message:{},messageId:"",redirect:!1,reply:!1}),it(at(at(n)),"getMessage",function(){n.setState({_loading:!0}),p()({method:"get",url:"https://thread-204819.appspot.com/getMessage",params:{id:n.state.messageId},withCredentials:!0}).then(function(e){n.setState({message:e.data[0],_loading:!1})})}),it(at(at(n)),"handleReply",function(){n.state.reply?n.setState({reply:!1}):n.setState({reply:!0})}),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(t,f.a.Component),n=t,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.location.state?{messageId:e.location.state.id}:{redirect:!0}}}],(o=[{key:"componentDidMount",value:function(){this.state.redirect||this.getMessage()}},{key:"render",value:function(){return this.state.redirect?ct:tt(a.a,{},void 0,this.state.loading?lt:ut,this.state.message?tt("div",{},void 0,tt("div",{style:{float:"right"}},void 0,this.state.message.date),"From: ",this.state.message.senderName,ft,"Subject: ",this.state.message.subject,dt,this.state.message.text,pt,tt(le.a,{icon:"reply",onClick:this.handleReply}),this.state.reply?tt(Xe,{recipient:this.state.message.sender}):yt):bt)}}])&&nt(n.prototype,o),r&&nt(n,r),t}();function mt(e){return(mt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function gt(e,t,n,o){st||(st="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:st,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function wt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ct=gt(s.a,{active:!0}),Pt=gt("div",{}),kt=gt(y.Route,{path:"/messages/view",component:ht}),Mt=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=this,r=(e=St(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==mt(r)&&"function"!==typeof r?jt(o):r,_t(jt(jt(n)),"state",{selectedMessages:[],messages:[],_loading:!1}),_t(jt(jt(n)),"componentDidMount",function(){n.getMessages()}),_t(jt(jt(n)),"getMessages",function(){n.setState({_loading:!0}),Et().then(function(e){n.setState({messages:e.data,_loading:!1})})}),_t(jt(jt(n)),"getSentMessages",function(){n.setState({_loading:!0}),Tt().then(function(e){return n.setState({_loading:!1,messages:e.data})})}),_t(jt(jt(n)),"handleMessageSelect",function(e){var t=parseInt(e.target.id,10),o=n.state.selectedMessages;o.includes(t)?n.setState({selectedMessages:o.filter(function(e){return e!==t})}):n.setState({selectedMessages:o.concat(t)})}),_t(jt(jt(n)),"handleDelete",function(){It(n.state.selectedMessages).then(function(){n.getMessages()})}),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(t,f.a.Component),n=t,(o=[{key:"render",value:function(){var e=this;return gt("div",{},void 0,gt(R,{onGetMessages:this.getMessages,onGetSentMessages:this.getSentMessages,onDelete:this.handleDelete}),gt(l.a,{style:{width:"50%",margin:"auto"},className:"messagesTable"},void 0,gt(a.a,{style:{height:"70vh",overflowY:"scroll"}},void 0,this.state._loading?Ct:Pt,kt,gt(y.Route,{path:"/messages/compose",render:function(t){return f.a.createElement(Xe,vt({},t,{onGetMessages:e.getMessages}))}}),gt(y.Route,{path:"/messages/sent",render:function(t){return f.a.createElement(ae,vt({},t,{messages:e.state.messages}))}}),gt(y.Route,{exact:!0,path:"/messages",render:function(t){return f.a.createElement(J,vt({},t,{messages:e.state.messages,selectedMessages:e.state.selectedMessages,onMessageSelect:e.handleMessageSelect}))}}))))}}])&&wt(n.prototype,o),r&&wt(n,r),t}(),Et=(t.default=Mt,function(){return p()({method:"get",url:"https://thread-204819.appspot.com/getMessages",withCredentials:!0})}),Tt=function(){return p()({method:"get",url:"https://thread-204819.appspot.com/getSentMessages",withCredentials:!0})},It=function(e){return p()({method:"post",url:"https://thread-204819.appspot.com/deleteMessages",data:{messages:e},withCredentials:!0})}},ed9c52280d03fd555aff:function(e,t,n){"use strict";var o=n("8e6d34d5e2b1c9c449c0");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("2c62cf50f9b98ad5e2af")),a=o(n("b912ecc4473ae8a2ff0b")),i=(o(n("8a2d1b95e05b6a321e74")),o(n("8af190b70a6bc55c6f1b"))),s=n("93c4a72365554acf71a9");function c(e){var t=e.children,n=e.className,o=e.clearing,l=e.content,u=e.fitted,f=e.hidden,d=e.horizontal,p=e.inverted,y=e.section,b=e.vertical,h=(0,a.default)("ui",(0,s.useKeyOnly)(o,"clearing"),(0,s.useKeyOnly)(u,"fitted"),(0,s.useKeyOnly)(f,"hidden"),(0,s.useKeyOnly)(d,"horizontal"),(0,s.useKeyOnly)(p,"inverted"),(0,s.useKeyOnly)(y,"section"),(0,s.useKeyOnly)(b,"vertical"),"divider",n),m=(0,s.getUnhandledProps)(c,e),v=(0,s.getElementType)(c,e);return i.default.createElement(v,(0,r.default)({},m,{className:h}),s.childrenUtils.isNil(t)?l:t)}c.handledProps=["as","children","className","clearing","content","fitted","hidden","horizontal","inverted","section","vertical"],c._meta={name:"Divider",type:s.META.TYPES.ELEMENT},c.propTypes={};var l=c;t.default=l}}]);